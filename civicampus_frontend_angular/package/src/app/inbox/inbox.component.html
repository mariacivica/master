<div class="card">
  <div class="card-body">
    <h4 class="card-title">Bandeja de Entrada</h4>
    <h5 class="card-subtitle">Revisa tus mensajes aquí.</h5>
    <div class="mt-4">
      <div *ngIf="filteredMessages.length > 0; else noMessages">
        <div class="list-group">
          <a
            *ngFor="let message of filteredMessages"
            class="list-group-item list-group-item-action d-flex align-items-center"
            (click)="openMessage(content, message)"
          >
            <ng-container [ngSwitch]="message.type">
              <i *ngSwitchCase="'achievement'" class="bi bi-award-fill me-3" style="font-size: 2rem; color: #6c757d;"></i>
              <i *ngSwitchCase="'announcement'" class="bi bi-megaphone-fill me-3" style="font-size: 2rem; color: #6c757d;"></i> <!-- Cambiado a gris -->
            </ng-container>
            <div>
              <h5 class="mb-1">{{ message.subject }}</h5>
              <p class="mb-1">{{ message.sender }}</p>
              <small>{{ message.date | date: 'short' }}</small>
              <p>{{ message.content }}</p>
            </div>
          </a>
        </div>
      </div>
      <ng-template #noMessages>
        <p>No hay mensajes disponibles.</p>
      </ng-template>
    </div>
  </div>
</div>

<!-- Modal -->
<ng-template #content let-modal>
  <div class="modal-header">
    <h5 class="modal-title">{{ modalTitle }}</h5> <!-- Usar el título dinámico -->
    <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
  </div>
  <div class="modal-body">
    <p><strong>Mensaje de:</strong> {{selectedMessage?.sender}}</p>
    <p><strong>Asunto:</strong> {{selectedMessage?.subject}}</p>
    <p>{{selectedMessage?.content}}</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary" style="background-color: #FF5038; border-color: #FF5038;" (click)="modal.close('Close click')">Aceptar</button>
  </div>
</ng-template>
